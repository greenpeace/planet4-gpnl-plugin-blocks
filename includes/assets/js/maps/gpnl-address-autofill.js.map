{"version":3,"sources":["gpnl-address-autofill.js"],"names":["$","document","ready","address_object","zipcodeInput","focusout","getElementById","houseNoInput","zipcode","zipcodeValue","value","house_no","houseNoValue","ajax_values","action","zipRegex","nonce","test","ajaxUrl","window","isNaN","ajax","streetInput","cityInput","val","cUrlresult","data","success","t","result","straat","woonplaats"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAIhB,IAAIC,EAAiB,qBAMnBC,EAAgBC,SAASC,eAAY,eAErCC,EAAgBN,SAAGG,eAAnB,eAGAJ,EAAA,gBAAeK,SAAG,WAEhBG,IAAAA,EAASC,EAFOC,MAGhBC,EAAUC,EAHMF,MAOlBG,EAAA,CANEC,OAAQ,cAOVN,QAAIO,EALFJ,SAAUC,EAMZI,MAAKD,OAASE,GAATD,QAM2BE,IADtB,mCACDC,KAAOhB,IAFPiB,MAAAR,IAOHZ,EAAAqB,KAAA,CAEAC,KAAAA,OACAC,IAAAA,OAAUC,GAAWC,QAEtBC,KAAAb,EAZHc,QAAA,SAAAC,GAlBJ,IAAAN,EAAAtB,EAAA,WAVFuB,EAAAvB,EAAA,SAqCUsB,EAAYE,IAAII,EAAEF,KAAKD,WAAWI,OAAOC,QACzCP,EAAUC,IAAII,EAAEF,KAAKD,WAAWI,OAAOE","file":"../gpnl-address-autofill.js","sourcesContent":["$(document).ready(function () {\n\n\n  // this will get the address object that is inserted with the wp_localize_script() function in the controller\n  var address_object = 'get_address_object';\n\n\n  var zipcodeInput = document.getElementById('postal-code');\n  var houseNoInput = document.getElementById('housenumber');\n\n  $('#housenumber').focusout(function () {\n\n    var zipcodeValue = zipcodeInput.value;\n    var houseNoValue = houseNoInput.value;\n\n    var ajax_values = {\n      action: 'get_address',\n      zipcode: zipcodeValue,\n      house_no: houseNoValue,\n      nonce: window[address_object].nonce\n    };\n\n    // validate zipcode and house-number and only make ajax call when valid.\n    var zipRegex = /^[1-9][0-9]{3}[\\s]?[A-Za-z]{2}$/i;\n    if ( zipRegex.test(zipcodeValue) === true && !isNaN(houseNoValue) ) {\n\n      // Do a ajax call to the wp_admin admin_ajax.php,\n      // which triggers processing function in the petition block\n      $.ajax({\n        type: 'POST',\n        url: window[address_object].ajaxUrl,\n        data: ajax_values,\n        success: function (t) {\n\n          var streetInput = $('#street');\n          var cityInput = $('#city');\n\n          streetInput.val(t.data.cUrlresult.result.straat);\n          cityInput.val(t.data.cUrlresult.result.woonplaats);\n\n        }\n      });\n\n    }\n\n  });\n\n});\n"]}