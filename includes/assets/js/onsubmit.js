"use strict";function getFormObj(n){var e={},t=$(n).serializeArray();return $.each(t,function(n,t){e[t.name]=t.value}),e}function toggleDisable(n){n.prop("disabled",!n.prop("disabled"))}function cardflip(n){var t=$(n),e=n.parentNode,a=$(n.parentNode.parentNode);$(t.find(".signBtn")).toggle(),$(t.find(".policies")).toggle(),$(e.nextElementSibling).css("position",flip_positionattribute(e.nextElementSibling)),$(e).css("position",flip_positionattribute(e)),a.toggleClass("flipped"),a.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(e).toggle(),a.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")})}function flip_positionattribute(n){return"absolute"===$(n).css("position")?"relative":"absolute"}function fireShareEvent(n,t){if("undefined"!=typeof dataLayer){var e="petition_form_object_"+t;dataLayer.push({event:"petitiebutton",conv_campaign:window[e].analytics_campaign,conv_action:window[e].ga_action,conv_label:"share_"+n})}else console.log("GTM not defined?")}function socialBlueDeDuplicate(n,t,e){var a=("https:"==document.location.protocol?"https://secure.event.":"http://www.")+"affiliatepartners.com",i="/js/ApConversionPixelV1.1.js";_apOrderValue=0,_apOrderNumber="email="+n+"-telefoonnumer="+t,_apRef=e;try{$("body").append(unescape("%3Cscript src='"+a+i+"' type='text/javascript'%3E%3C/script%3E"))}catch(n){var o=document.createElement("script");o.type="text/javascript",o.src=a+i,document.getElementsByTagName("head")[0].appendChild(o)}}function getUrlVars(){for(var n,t=[],e=window.location.href.split("#")[0].slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<e.length;a++)n=e[a].split("="),t.push(n[0]),t[n[0]]=n[1];return t}$(".gpnl-petitionform").on("submit",function(){var o=this,r=getFormObj(o),c="petition_form_object_"+r.form_id;r.action="petition_form_process",r.nonce=window[c].nonce,r.ad_campaign=window[c].ad_campaign,toggleDisable($(o).find("*")),$.ajax({type:"POST",url:window[c].ajaxUrl,data:r,success:function(n){if(console.log("^-^"),"undefined"!=typeof dataLayer){dataLayer.push({event:"petitiebutton",conv_campaign:window[c].analytics_campaign,conv_action:window[c].ga_action,conv_label:"registreer"});var t=parseInt(n.data.phoneresult),e=0===t||1===t?t:null;dataLayer.push({event:"petitiebutton",conv_campaign:window[c].analytics_campaign,conv_action:window[c].ga_action,conv_label:"phoneknown",conv_value:e});var a=parseInt(n.data.mailresult),i=0===a||1===a?a:null;dataLayer.push({event:"petitiebutton",conv_campaign:window[c].analytics_campaign,conv_action:window[c].ga_action,conv_label:"mailknown",conv_value:i}),""!==r.phone?(dataLayer.push({event:"petitiebutton",conv_campaign:window[c].analytics_campaign,conv_action:"telnr",conv_label:"Ja"}),"SB"===window[c].ad_campaign?(fbq("track","Lead"),socialBlueDeDuplicate(r.mail,n.data.phonesanitized,window[c].apref)):"JA"===window[c].ad_campaign&&fbq("track",window[c].jalt_track)):dataLayer.push({event:"petitiebutton",conv_campaign:window[c].analytics_campaign,conv_action:"telnr",conv_label:"Nee"})}cardflip(o),null!=getUrlVars().clangct&&clang.conversion.track()},error:function(){console.log("o_o");var n=$(o.parentNode.nextElementSibling);n.find("*").hide(""),n.append("<p>Sorry, er gaat momenteel iets fout, probeer het nu of later opnieuw.</p>"),n.append("<a href='"+window.location.href+'\' class="btn btn-primary btn-block"">Probeer opnieuw</a>'),cardflip(o)}})});
//# sourceMappingURL=maps/onsubmit.js.map
